<!-- Dashboard/App.xaml -->
<Application x:Class="Dashboard.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:converters="clr-namespace:Dashboard.Converters"
             StartupUri="MainWindow.xaml">
    
    <Application.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <!-- Material Design Themes -->
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Light.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Defaults.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignColors;component/Themes/Recommended/Primary/MaterialDesignColor.DeepPurple.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignColors;component/Themes/Recommended/Accent/MaterialDesignColor.Lime.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <!-- Conversores Globais -->
            <converters:BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter"/>
            <converters:InverseBooleanConverter x:Key="InverseBooleanConverter"/>
            <converters:StringToVisibilityConverter x:Key="StringToVisibilityConverter"/>
            <converters:BoolToGreenRedConverter x:Key="BoolToGreenRedConverter"/>
            <converters:BoolToYesNoConverter x:Key="BoolToYesNoConverter"/>
            <converters:ProbabilityToColorConverter x:Key="ProbabilityToColorConverter"/>
            <converters:MetronomoTypeToIconConverter x:Key="MetronomoTypeToIconConverter"/>

            <!-- Estilos Globais -->
            <Style x:Key="BaseTextBlock" TargetType="TextBlock">
                <Setter Property="FontFamily" Value="Segoe UI"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Foreground" Value="#FF2C3E50"/>
            </Style>

            <Style x:Key="HeaderTextBlock" TargetType="TextBlock" BasedOn="{StaticResource BaseTextBlock}">
                <Setter Property="FontSize" Value="18"/>
                <Setter Property="FontWeight" Value="SemiBold"/>
                <Setter Property="Margin" Value="0,0,0,10"/>
            </Style>

            <Style x:Key="SubHeaderTextBlock" TargetType="TextBlock" BasedOn="{StaticResource BaseTextBlock}">
                <Setter Property="FontSize" Value="14"/>
                <Setter Property="FontWeight" Value="Medium"/>
                <Setter Property="Foreground" Value="#FF34495E"/>
            </Style>

            <!-- Brush Globais -->
            <SolidColorBrush x:Key="PrimaryBrush" Color="#FF3B82F6"/>
            <SolidColorBrush x:Key="SecondaryBrush" Color="#FF64748B"/>
            <SolidColorBrush x:Key="SuccessBrush" Color="#FF10B981"/>
            <SolidColorBrush x:Key="WarningBrush" Color="#FFF59E0B"/>
            <SolidColorBrush x:Key="ErrorBrush" Color="#FFEF4444"/>
            <SolidColorBrush x:Key="BackgroundBrush" Color="#FFF8FAFC"/>
            <SolidColorBrush x:Key="SurfaceBrush" Color="#FFFFFFFF"/>
            <SolidColorBrush x:Key="BorderBrush" Color="#FFE2E8F0"/>

            <!-- Gradientes -->
            <LinearGradientBrush x:Key="PrimaryGradient" StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#FF3B82F6" Offset="0"/>
                <GradientStop Color="#FF1E40AF" Offset="1"/>
            </LinearGradientBrush>

            <LinearGradientBrush x:Key="SuccessGradient" StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#FF10B981" Offset="0"/>
                <GradientStop Color="#FF059669" Offset="1"/>
            </LinearGradientBrush>

            <!-- Templates de Dados Globais -->
            <DataTemplate x:Key="LoadingTemplate">
                <Grid>
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <ProgressBar IsIndeterminate="True" Width="100" Height="6" Margin="0,0,0,10"/>
                        <TextBlock Text="Carregando..." HorizontalAlignment="Center" Style="{StaticResource BaseTextBlock}"/>
                    </StackPanel>
                </Grid>
            </DataTemplate>

            <DataTemplate x:Key="ErrorTemplate">
                <Grid>
                    <Border Background="{StaticResource ErrorBrush}" 
                            CornerRadius="8" 
                            Padding="15" 
                            Margin="20">
                        <StackPanel>
                            <TextBlock Text="❌ Erro" 
                                       FontSize="16" 
                                       FontWeight="Bold" 
                                       Foreground="White" 
                                       Margin="0,0,0,10"/>
                            <TextBlock Text="{Binding}" 
                                       Foreground="White" 
                                       TextWrapping="Wrap"/>
                        </StackPanel>
                    </Border>
                </Grid>
            </DataTemplate>

            <!-- Animações -->
            <Storyboard x:Key="FadeInAnimation">
                <DoubleAnimation Storyboard.TargetProperty="Opacity" 
                                 From="0" 
                                 To="1" 
                                 Duration="0:0:0.3"/>
            </Storyboard>

            <Storyboard x:Key="SlideInFromLeftAnimation">
                <DoubleAnimation Storyboard.TargetProperty="(UIElement.RenderTransform).(TranslateTransform.X)" 
                                 From="-50" 
                                 To="0" 
                                 Duration="0:0:0.4">
                    <DoubleAnimation.EasingFunction>
                        <QuadraticEase EasingMode="EaseOut"/>
                    </DoubleAnimation.EasingFunction>
                </DoubleAnimation>
                <DoubleAnimation Storyboard.TargetProperty="Opacity" 
                                 From="0" 
                                 To="1" 
                                 Duration="0:0:0.4"/>
            </Storyboard>

        </ResourceDictionary>
    </Application.Resources>

</Application>